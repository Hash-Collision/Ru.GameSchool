@using Ru.GameSchool.BusinessLayer.Services
@model IEnumerable<Tuple<int, Ru.GameSchool.DataLayer.Repository.UserInfo>>
<div class="well">
    <h2>
        Velkomin/n á GameSchool</h2>
    <p>
        Einhver hjalpartexti!</p>
</div>
<div id="accordion2" class="accordion">
    @foreach (var item in ViewBag.UserCourseList)
    {
        foreach (var nesteditem in item)
        {
        <div class="accordion-group">
            <div class="accordion-heading">
                <a href="#collapse_@nesteditem.CourseId" data-parent="#accordion2" data-toggle="collapse" class="accordion-toggle ">@nesteditem.Name</a>
            </div>
            <div class="accordion-body collapseq collapse @if (ViewBag.CourseId == @nesteditem.CourseId)
                                                          {<text>in</text>}" id="collapse_@nesteditem.CourseId" >
                <div class="accordion-inner">
                    <ul class="nav nav-list">
                        @if (User.IsInRole("Teacher"))
                        {
                            <li>@Html.ActionLink("Ummæli", "Comments", "Course", new { id = @nesteditem.CourseId }, null)</li>
                            <li>@Html.ActionLink("Nýtt borð", "Create", "Level", new { id = @nesteditem.CourseId }, null)</li>
                            <li>@Html.ActionLink("Ný tilkynning", "Announcement", "Course", new { id = @nesteditem.CourseId }, null)</li>
                            <li>@Html.ActionLink("Nýtt verkefni", "Project", "Course", new { id = @nesteditem.CourseId }, null)</li>
                            <li>@Html.ActionLink("Nýtt próf", "Create", "Exam", new { id = @nesteditem.CourseId }, null)</li>
                            <li>@Html.ActionLink("Nýtt kennslugagn", "Create", "Material", new { id = @nesteditem.CourseId }, null)</li>
                            <hr />
                        }
                        <li>@Html.ActionLink("Borð", "Item", "Course", new { id = @nesteditem.CourseId }, null)</li>
                        <li>@Html.ActionLink("Tilkynningar", "", "", new { id = @nesteditem.CourseId }, null)</li>
                        <li>@Html.ActionLink("Verkefni", "Index", "Project", new { id = @nesteditem.CourseId }, null)</li>
                        <li>@Html.ActionLink("Próf", "Index", "Exam", new { id = @nesteditem.CourseId }, null)</li>
                        <li>@Html.ActionLink("Kennsluefni", "Index", "Material", new { id = @nesteditem.CourseId }, null)</li>
                        <li><a data-toggle="modal" href="#myModal">Top tíu listinn!</a></li>
                    </ul>
                </div>
            </div>
        </div>
        }
    }
</div>
<div id="myModal" class="modal" style="display: none">
    <div class="modal-body">
        <h4>
            Topplistinn!</h4>
        <table class="table table-striped table-bordered table-condensed">
            <thead>
                <tr>
                    <th>
                        #
                    </th>
                    <th>
                        Stig
                    </th>
                    <th>
                        Nafn
                    </th>
                </tr>
            </thead>
            <tbody>
                
             
                @foreach (var item in new GameService().GetTopTenList(1))
                {
                    <tr>
                        <td>@item.Item2.Username
                        </td>
                        <td>@item.Item1
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="modal-footer">
        <a href="#" id="close" class="btn" data-dismiss="modal">Loka</a>
    </div>
</div>
